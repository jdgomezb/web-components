import{r,h as t,c as e,g as i,H as o}from"./p-a2f952f9.js";const s=class{constructor(t){r(this,t)}render(){return t("div",{class:"lds-ring"},t("div",null),t("div",null),t("div",null),t("div",null))}};s.style=":host{--purple:#3b013b;--light-purple:#750175;--green:#829e28;--white:#fff;--dark-grey:#444;--grey:#999;--light-grey:#ccc;--lighter-grey:#efefef;--lightest-grey:#f3f3f3;--lightning-grey:#fefefe;--error:red}.lds-ring{display:inline-block;position:relative;width:64px;height:64px}.lds-ring div{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;width:51px;height:51px;margin:6px;border:6px solid var(--purple);border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:var(--purple) transparent transparent transparent}.lds-ring div:nth-child(1){-webkit-animation-delay:-0.45s;animation-delay:-0.45s}.lds-ring div:nth-child(2){-webkit-animation-delay:-0.3s;animation-delay:-0.3s}.lds-ring div:nth-child(3){-webkit-animation-delay:-0.15s;animation-delay:-0.15s}@-webkit-keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}";const n=class{constructor(t){r(this,t),this.jdSymbolSelected=e(this,"jdSymbolSelected",7),this.searchResults=[],this.loading=!1}onFindStocks(r){r.preventDefault(),this.fetchStockSymbols(this.stockNameInput.value)}fetchStockSymbols(r){this.loading=!0,fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${r}&apikey=HSDD0H4H2QLMLP98`).then((r=>{if(200!==r.status)throw new Error("Failed to fetch stock data");return r.json()})).then((r=>{this.searchResults=r.bestMatches.map((r=>({name:r["2. name"],symbol:r["1. symbol"]}))),this.errorMsg=null,this.loading=!1})).catch((r=>{this.errorMsg=r.message,this.loading=!1}))}onSelectSymbol(r){this.jdSymbolSelected.emit(r)}render(){let r=t("ul",null,this.searchResults.map((r=>t("li",{onClick:this.onSelectSymbol.bind(this,r.symbol)},t("b",null,r.symbol)," ",r.name))));return this.loading&&(r=t("jd-spinner",null)),[t("form",{onSubmit:this.onFindStocks.bind(this)},t("input",{id:"stock-symbol",ref:r=>this.stockNameInput=r}),t("button",{type:"submit"},"Search Stock Symbol")),r]}};n.style=":host{--purple:#3b013b;--light-purple:#750175;--green:#829e28;--white:#fff;--dark-grey:#444;--grey:#999;--light-grey:#ccc;--lighter-grey:#efefef;--lightest-grey:#f3f3f3;--lightning-grey:#fefefe;--error:red}:host{font-family:sans-serif;border:2px solid var(--purple);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}form input{font:inherit;color:var(--purple);padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid var(--purple);background:var(--purple);color:var(--white);cursor:pointer}form button:hover,form button:active{background:var(--light-purple);border-color:var(--light-purple)}form button:disabled{background:var(--light-grey);border-color:var(--light-grey);color:var(--white);cursor:not-allowed}ul{margin:0;padding:0;list-style:none}li{display:grid;grid-template-columns:1fr 2fr;gap:.75rem;margin:0.25rem 0;padding:0.25rem;border-bottom:1px solid var(--light-grey)}li:hover{color:var(--light-purple);cursor:pointer;background-color:var(--lighter-grey)}";const l=class{constructor(t){r(this,t),this.isStockInputValid=!1,this.loading=!1}stockSymbolChanged(r,t){r!==t&&(this.stockInput.value=r,this.fetchStockPrice(r))}hostData(){return{class:this.errorMsg?"error":""}}onFetchStockPrice(r){r.preventDefault(),this.stockSymbol=this.stockInput.value}fetchStockPrice(r){this.loading=!0,fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${r}&apikey=HSDD0H4H2QLMLP98`).then((r=>{if(200!==r.status)throw new Error("Failed to fetch stock data");return r.json()})).then((r=>{if(!r["Global Quote"]["05. price"])throw new Error("Invalid stock symbol");this.currentPrice=+r["Global Quote"]["05. price"],this.errorMsg=null,this.loading=!1})).catch((r=>{this.errorMsg=r.message,this.currentPrice=null,this.loading=!1}))}onUserInput(r){this.stockUserInput=r.target.value,this.isStockInputValid=""!==this.stockUserInput.trim(),this.isStockInputValid&&(this.stockSymbol=this.stockUserInput)}onStockSymbolSelected(r){console.log("Stock symbol selected:",r.detail),r.detail&&r.detail!==this.stockSymbol&&(this.stockSymbol=r.detail)}componentWillLoad(){this.stockSymbol&&(this.stockUserInput=this.stockSymbol,this.isStockInputValid=!0)}componentDidLoad(){this.stockSymbol&&this.fetchStockPrice(this.stockSymbol)}componentWillUpdate(){}componentDidUpdate(){}disconnectedCallback(){}__stencil_render(){let r=t("p",null,"Please enter a symbol");return this.errorMsg&&(r=t("p",null,this.errorMsg)),this.currentPrice&&(r=t("p",null,"Current price: $",this.currentPrice)),this.loading&&(r=t("jd-spinner",null)),[t("form",{onSubmit:this.onFetchStockPrice.bind(this)},t("input",{id:"stock-symbol",ref:r=>this.stockInput=r,value:this.stockUserInput,onInput:this.onUserInput.bind(this)}),t("button",{type:"submit",disabled:!this.isStockInputValid},"Fetch price")),t("div",null,r)]}get el(){return i(this)}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}render(){return t(o,this.hostData(),this.__stencil_render())}};l.style=":host{--purple:#3b013b;--light-purple:#750175;--green:#829e28;--white:#fff;--dark-grey:#444;--grey:#999;--light-grey:#ccc;--lighter-grey:#efefef;--lightest-grey:#f3f3f3;--lightning-grey:#fefefe;--error:red}:host{font-family:sans-serif;border:2px solid var(--purple);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}:host(.error){border-color:var(--error)}form input{font:inherit;color:var(--purple);padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid var(--purple);background:var(--purple);color:var(--white);cursor:pointer}form button:hover,form button:active{background:var(--light-purple);border-color:var(--light-purple)}form button:disabled,form button:disabled:hover,form button:disabled:active{background:var(--light-grey);border:1px solid #9f9f9f;color:#666;cursor:default}";export{s as jd_spinner,n as jd_stock_finder,l as jd_stock_price}